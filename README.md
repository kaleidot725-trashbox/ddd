# DDD

## 値オブジェクト

プログラミング言語にはプリミティブな型が用意されています。プリミティブな型だけを組み合わせてシステムを開発することはもちろん可能ですが、システムが持つ固有な値を定義したほうがよい場合があります。こういった固有な値を定義したものを値オブジェクトと呼んでいます。これらの値オブジェクトですが`不変である`、 `交換が可能である`、`等価性によって比較される` といった性質があります。これらの性質を持つ値オブジェクトを定義すべきかは開発者が判断します、そのデータが値オブジェクトにあたいする価値があると思うのであれば作成していくべきです。

また値オブジェクトで重要なことは独自の振る舞いを定義できます。例えば通貨の計算であれば、単位を間違えたりが考えられます。これはプリミティブな型で＋演算子を使うと発生しますが、値オブジェクトの独自の振る舞い（メソッド）を定義して計算するようにすれば、このような単位間違いを防ぐことができます。


その他にも値オブジェクトを使うと表現力が増す（string だとただの文字列（xxxx-yy-zzz）だが、値オブジェクトで定義するとその各項目(x, y, z)が何を表しているのか表現できる）、不正な値を存在させない、誤った代入を防ぐ、ロジックの散在を防ぐなどの役割があります。

## エンティティ

ドメイン駆動設計におけるエンティティはドメインモデルを実装するドメインオブジェクトになります。値オブジェクトもドメインオブジェクトになりますが、それらの違いは属性によってではなく同一性で区別されるという点です。例えば Person クラス（ドメインクラス）の身長や体重（属性）が変化しても人したら別の人として区別しないと思います、おそらく割り振られたIDで区別することになるでしょう。ドメイン駆動設計においてはこのようなものをエンティティと呼びます。（逆に属性で区別が変わるようなものを値オブジェクトとしているそうです。）これらのエンティティですが`可変である` `同じ属性であっても区別される` `同一性により区別される` といった性質があります。

